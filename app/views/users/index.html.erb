<h1><%= t("title.users") %></h1>

<table>
  <thead>
    <tr>
      <th></th>
      <th><%= User.human_attribute_name("username") %></th>
      <th><%= User.human_attribute_name("email") %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td>
          <% if user.icon.attached? %>
            <%= image_tag user.icon.variant(resize_to_limit: [30, 30]) %>
          <% end %>
        </td>
        <td><%= user.username %></td>
        <td><%= user.email %></td>
        <td><%= link_to t("button.show"), user %></td>
        <% if user == current_user %>
          <td><%= link_to t("button.edit"), edit_user_path(current_user) %></td>
          <td><%= link_to t("button.destroy"), user, method: :delete, data: { confirm: t("confirm.destroy") } %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<p><%= paginate @users %></p>
